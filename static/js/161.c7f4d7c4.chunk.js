"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[161],{940:function(e,r,n){n.d(r,{Z:function(){return a}});var t=n(184),a=function(e){var r=e.className;return(0,t.jsx)("div",{className:r,children:"Sorry, there is no poster"})}},161:function(e,r,n){n.r(r),n.d(r,{default:function(){return _}});var t=n(689),a=n(861),s=n(439),i=n(757),c=n.n(i),o=n(791),u=n(87),l=n(940),d="single-movie_info__rqYHh",v="single-movie_more_info__3Exjt",f="single-movie_poster__VJqyx",p="single-movie_empty__Dmhav",h=n(184),m=function(e){var r=e.data,n=e.from,t=r.poster_path,a=r.original_title,s=r.release_date,i=r.vote_average,c=r.overview,o=r.genres,m=null===s||void 0===s?void 0:s.slice(0,4),x=(10*i).toFixed(),j=null===o||void 0===o?void 0:o.map((function(e){return e.name})).join(" ");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:d,children:[t?(0,h.jsx)("img",{className:f,src:"https://image.tmdb.org/t/p/w600_and_h900_bestv2".concat(t),alt:"Poster"}):(0,h.jsx)(l.Z,{className:p}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("h1",{children:[a," ",s&&"(".concat(m,")")]}),(0,h.jsxs)("p",{children:["User Score: ",x,"%"]}),(0,h.jsx)("h2",{children:"Overview"}),(0,h.jsx)("p",{children:c}),Boolean(null===o||void 0===o?void 0:o.length)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{children:"Genres"}),(0,h.jsx)("p",{children:j})]})]})]}),(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("h4",{children:"Additional informaiton"}),(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(u.rU,{to:"cast",state:{from:n},children:"Cast"})}),(0,h.jsx)("li",{children:(0,h.jsx)(u.rU,{to:"reviews",state:{from:n},children:"Reviews"})})]})]})]})},x=n(697),j=function(e){var r,n=e.movieId,i=(0,o.useState)({}),u=(0,s.Z)(i,2),l=u[0],d=u[1],v=(0,o.useState)(!1),f=(0,s.Z)(v,2),p=f[0],j=f[1],_=(0,o.useState)(null),g=(0,s.Z)(_,2),w=g[0],b=g[1],k=(0,t.s0)(),y=null===(r=(0,t.TH)().state)||void 0===r?void 0:r.from;return(0,o.useEffect)((function(){if(n){var e=function(){var e=(0,a.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,(0,x.TP)(n);case 4:r=e.sent,d(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b(e.t0);case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[n]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{type:"button",onClick:function(){return k(y)},children:"\u25c4 Go back"}),p&&(0,h.jsx)("p",{children:"Loading..."}),w&&(0,h.jsxs)("p",{children:["Sorry! ",w.message]}),(0,h.jsx)(m,{data:l,from:y}),(0,h.jsx)(o.Suspense,{fallback:(0,h.jsx)("div",{children:"Loading..."}),children:(0,h.jsx)(t.j3,{})})]})},_=function(){var e=(0,t.UO)().movieId;return(0,h.jsx)(j,{movieId:e})}},697:function(e,r,n){n.d(r,{M1:function(){return l},TP:function(){return u},oR:function(){return o},tx:function(){return d},z5:function(){return c}});var t=n(861),a=n(757),s=n.n(a),i=n(912).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"3093f90428db537aee0c54ac8ab57737"}}),c=function(){var e=(0,t.Z)(s().mark((function e(){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/trending/movie/day?");case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/search/movie?",{params:{query:r}});case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(r,"?"));case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(r,"/credits?"));case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(r,"/reviews?"));case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=161.c7f4d7c4.chunk.js.map